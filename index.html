<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Campionato Arena</title>
<style>
body { font-family: 'Segoe UI', sans-serif; background: linear-gradient(135deg,#0a2a43,#0f5132); color:#fff; margin:0; padding:0;}
header {text-align:center; padding:20px; background:linear-gradient(90deg,#008C45,#F4F5F0,#CD212A); color:#000; font-weight:bold; font-size:26px;}
main {padding:20px; max-width:900px; margin:auto;}
.card {background:rgba(255,255,255,0.1); border-radius:16px; padding:20px; margin-bottom:20px; box-shadow:0 10px 30px rgba(0,0,0,0.3);}
h2 {margin-top:0; border-bottom:2px solid rgba(255,255,255,0.3); padding-bottom:10px;}
input, select, button {padding:10px; border-radius:10px; border:none; margin:5px 0; font-size:16px;}
button {background:#ffc107; cursor:pointer; font-weight:bold;}
ul {list-style:none; padding:0;}
footer {text-align:center; padding:15px; font-size:14px; opacity:0.7;}
</style>
</head>
<body>
<header>ğŸ† Campionato Arena</header>
<main>
<div class="card" id="loginCard">
<h2>ğŸ” Accesso</h2>
<input id="loginNome" placeholder="Inserisci il tuo nome" />
<input id="loginPassword" type="password" placeholder="Password (solo admin)" />
<br>
<button onclick="login()">Entra</button>
<p id="loginInfo" style="margin-top:10px;opacity:0.8"></p>
</div>

<div id="appContent" style="display:none">
<div class="card">
<h2>â• Crea Squadra (solo admin)</h2>
<input id="nomeSquadra" placeholder="Nome squadra" />
<select id="coloreSquadra">
<option value="#ff0000">Rosso</option>
<option value="#0000ff">Blu</option>
<option value="#00ff00">Verde</option>
<option value="#ffff00">Giallo</option>
<option value="#ff6600">Arancione</option>
<option value="#800080">Viola</option>
<option value="#00ffff">Ciano</option>
<option value="#ffffff">Bianco</option>
<option value="#000000">Nero</option>
<option value="#ff69b4">Rosa</option>
</select>
<br>
<button onclick="salvaSquadra()">Salva Squadra</button>
</div>

<div class="card">
<h2>â• Aggiungi Giocatore (solo admin)</h2>
<select id="squadraGiocatore"></select>
<input id="nomeGiocatore" placeholder="Nome giocatore" />
<select id="ruoloGiocatore">
<option value="Calciatore">Calciatore</option>
<option value="Capitano">Capitano</option>
<option value="Portiere">Portiere</option>
</select>
<br>
<button onclick="aggiungiGiocatore()">Aggiungi Giocatore</button>
</div>

<div class="card">
<h2>ğŸ“‹ Squadre e Giocatori</h2>
<div id="listaSquadre"></div>
</div>
</div>
</main>
<footer>Ideata da Vitlollo Â· Sviluppata con ChatGPT âš½ğŸ‡®ğŸ‡¹</footer>

<script>
// Mock database per funzionare in locale
let dbMock = [];

// Admin e password
const admins = {
  "Vitantonio": "giulia85",
  "Fabrizio": "manetta26",
  "Jacopo": "forzaroma1"
};

function login(){
  const nome = document.getElementById('loginNome').value.trim();
  const password = document.getElementById('loginPassword').value;
  const info = document.getElementById('loginInfo');

  if(!nome){ info.innerText='Inserisci un nome valido'; return; }

  const isAdmin = admins[nome] && admins[nome] === password;
  info.innerText='';

  document.getElementById('loginCard').style.display='none';
  document.getElementById('appContent').style.display='block';

  // Mostra il nome e ruolo in alto
  let ruolo = 'Calciatore';
  for(let squadra of dbMock){
    const g = squadra.giocatori?.find(p=>p.nome.toLowerCase()===nome.toLowerCase());
    if(g){ ruolo = g.ruolo; break; }
  }

  const header = document.createElement('p');
  header.innerText=`${nome} ${isAdmin?'(Admin)':'(' + ruolo + ')'}`;
  header.style.fontWeight='bold';
  header.style.marginBottom='15px';
  document.getElementById('appContent').prepend(header);

  // Aggiorna lista squadre e giocatori
  caricaSquadre();
  aggiornaSelectGiocatore();
}

function salvaSquadra(){
  const nome = document.getElementById('nomeSquadra').value.trim();
  const colore = document.getElementById('coloreSquadra').value;
  if(!nome){ alert('Inserisci il nome della squadra'); return; }

  dbMock.push({nome,colore,giocatori:[]});
  document.getElementById('nomeSquadra').value='';
  caricaSquadre();
  aggiornaSelectGiocatore();
}

function aggiungiGiocatore(){
  const nome = document.getElementById('nomeGiocatore').value.trim();
  const squadraSelezionata = document.getElementById('squadraGiocatore').value;
  const ruolo = document.getElementById('ruoloGiocatore').value;
  if(!nome || !squadraSelezionata){ alert('Inserisci nome e squadra'); return; }

  const squadra = dbMock.find(s=>s.nome===squadraSelezionata);
  if(!squadra.giocatori) squadra.giocatori=[];
  squadra.giocatori.push({nome, ruolo});

  document.getElementById('nomeGiocatore').value='';
  caricaSquadre();
}

function caricaSquadre(){
  const container = document.getElementById('listaSquadre');
  container.innerHTML='';
  dbMock.forEach(s=>{
    const div = document.createElement('div');
    const h3 = document.createElement('h3');
    h3.innerText=s.nome;
    h3.style.color=s.colore;
    div.appendChild(h3);

    const ul = document.createElement('ul');
    (s.giocatori||[]).forEach(g=>{
      const li = document.createElement('li');
      li.innerText = `${g.nome} (${g.ruolo})`;
      li.style.color = s.colore;
      ul.appendChild(li);
    });
    div.appendChild(ul);
    container.appendChild(div);
  });
}

function aggiornaSelectGiocatore(){
  const select = document.getElementById('squadraGiocatore');
  select.innerHTML='';
  dbMock.forEach(s=>{
    const option = document.createElement('option');
    option.value = s.nome;
    option.innerText = s.nome;
    select.appendChild(option);
  });
}

// Avvio
caricaSquadre();
aggiornaSelectGiocatore();
</script>
</body>
</html>
